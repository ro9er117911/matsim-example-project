<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE config SYSTEM "http://www.matsim.org/files/dtd/config_v2.dtd">
<config>
	<module name="controller" >
		<!-- Default=1000. Last Iteration of a simulation. -->
		<param name="lastIteration" value="5" />
		<!-- Possible values: failIfDirectoryExists,overwriteExistingFiles,deleteDirectoryIfExists -->
		<param name="overwriteFiles" value="deleteDirectoryIfExists" />
		<!-- Comma-separated list of visualizer output file formats. `transims' and `otfvis'. -->
		<param name="snapshotFormat" value="otfvis" />
		<!-- iterationNumber % writeEventsInterval == 0 defines in which iterations events are written to a file. `0' disables events writing completely. -->
		<param name="writeEventsInterval" value="1" />
	</module>
	<module name="global" >
		<param name="coordinateSystem" value="EPSG:3826" />
	</module>
	<module name="network" >
		<param name="inputNetworkFile" value="network-with-pt.xml.gz" />
	</module>
	<module name="plans" >
		<!-- Possible values: reject,useMainModeIdentifier -->
		<param name="handlingOfPlansWithoutRoutingMode" value="useMainModeIdentifier" />
		<param name="inputPlansFile" value="population.xml" />
	</module>
	<module name="qsim" >
		<param name="endTime" value="30:00:00" />
		<!-- default: FIFO; options: FIFO PassingQ SeepageQ -->
		<param name="linkDynamics" value="PassingQ" />
		<!-- Options: maxOfStarttimeAndEarliestActivityEnd onlyUseStarttime  -->
		<param name="simStarttimeInterpretation" value="onlyUseStarttime" />
		<param name="startTime" value="00:00:00" />
	</module>
	<module name="replanning" >
		<parameterset type="strategysettings" >
			<!-- strategyName of strategy.  Possible default names: SelectRandom BestScore KeepLastSelected ChangeExpBeta SelectExpBeta SelectPathSizeLogit      (selectors), ReRouteTimeAllocationMutatorTimeAllocationMutator_ReRouteChangeSingleTripModeChangeTripModeSubtourModeChoice (innovative strategies). -->
			<param name="strategyName" value="ChangeExpBeta" />
			<!-- weight of a strategy: for each agent, a strategy will be selected with a probability proportional to its weight -->
			<param name="weight" value="0.7" />
		</parameterset>
		<parameterset type="strategysettings" >
			<param name="strategyName" value="ReRoute" />
			<param name="weight" value="0.15" />
		</parameterset>
		<parameterset type="strategysettings" >
			<param name="strategyName" value="SubtourModeChoice" />
			<param name="weight" value="0.15" />
		</parameterset>
	</module>
	<module name="routing" >
		<!-- Defines how access and egress to main mode is simulated. Either of [none, accessEgressModeToLink, walkConstantTimeToLink, accessEgressModeToLinkPlusTimeConstant], Current default=none which means no access or egress trips are simulated. -->
		<param name="accessEgressType" value="accessEgressModeToLink" />
		<!-- Some typical teleportation routing params are set by default, such as for walk and bike.  Setting this switch to "true" will clear them.  Note that this will also clear settings for helper modes such as for non_network_walk -->
		<param name="clearDefaultTeleportedModeParams" value="true" />
		<parameterset type="teleportedModeParameters" >
			<param name="mode" value="walk" />
			<!-- Speed for a teleported mode. Travel time = (<beeline distance> * beelineDistanceFactor) / teleportedModeSpeed. Insert a line like this for every such mode. -->
			<param name="teleportedModeSpeed" value="1.388888888" />
		</parameterset>
		<parameterset type="teleportedModeParameters" >
			<param name="mode" value="access_walk" />
			<param name="teleportedModeSpeed" value="1.388888888" />
		</parameterset>
		<parameterset type="teleportedModeParameters" >
			<param name="mode" value="egress_walk" />
			<param name="teleportedModeSpeed" value="1.388888888" />
		</parameterset>
		<parameterset type="teleportedModeParameters" >
			<param name="mode" value="transit_walk" />
			<param name="teleportedModeSpeed" value="1.388888888" />
		</parameterset>
	</module>
	<module name="scoring" >
		<parameterset type="scoringParameters" >
			<param name="waitingPt" value="-7.0" />
			<parameterset type="activityParams" >
				<param name="activityType" value="pt interaction" />
				<!-- typical duration of activity.  needs to be defined and non-zero.  in sec. -->
				<param name="typicalDuration" value="00:00:01" />
			</parameterset>
			<parameterset type="activityParams" >
				<param name="activityType" value="home" />
				<param name="typicalDuration" value="12:00:00" />
			</parameterset>
			<parameterset type="activityParams" >
				<param name="activityType" value="work" />
				<param name="closingTime" value="18:00:00" />
				<param name="openingTime" value="07:00:00" />
				<param name="typicalDuration" value="08:00:00" />
			</parameterset>
			<parameterset type="activityParams" >
				<param name="activityType" value="car interaction" />
				<param name="typicalDuration" value="undefined" />
			</parameterset>
			<parameterset type="activityParams" >
				<param name="activityType" value="walk interaction" />
				<param name="typicalDuration" value="undefined" />
			</parameterset>
			<parameterset type="activityParams" >
				<param name="activityType" value="access_walk interaction" />
				<param name="scoringThisActivityAtAll" value="false" />
				<param name="typicalDuration" value="undefined" />
			</parameterset>
			<parameterset type="activityParams" >
				<param name="activityType" value="egress_walk interaction" />
				<param name="scoringThisActivityAtAll" value="false" />
				<param name="typicalDuration" value="undefined" />
			</parameterset>
			<parameterset type="activityParams" >
				<param name="activityType" value="transit_walk interaction" />
				<param name="scoringThisActivityAtAll" value="false" />
				<param name="typicalDuration" value="undefined" />
			</parameterset>
			<parameterset type="modeParams" >
				<param name="mode" value="car" />
				<!-- [unit_of_money/m] conversion of distance into money. Normally negative. -->
				<param name="monetaryDistanceRate" value="-2.0E-4" />
			</parameterset>
			<parameterset type="modeParams" >
				<!-- [utils/hr] additional marginal utility of traveling.  normally negative.  this comes on top of the opportunity cost of time -->
				<param name="marginalUtilityOfTraveling_util_hr" value="-7.0" />
				<param name="mode" value="pt" />
			</parameterset>
			<parameterset type="modeParams" >
				<param name="marginalUtilityOfTraveling_util_hr" value="-12.0" />
				<param name="mode" value="walk" />
			</parameterset>
			<parameterset type="modeParams" >
				<param name="marginalUtilityOfTraveling_util_hr" value="-12.0" />
				<param name="mode" value="access_walk" />
			</parameterset>
			<parameterset type="modeParams" >
				<param name="marginalUtilityOfTraveling_util_hr" value="-12.0" />
				<param name="mode" value="egress_walk" />
			</parameterset>
			<parameterset type="modeParams" >
				<param name="marginalUtilityOfTraveling_util_hr" value="-12.0" />
				<param name="mode" value="transit_walk" />
			</parameterset>
		</parameterset>
	</module>
	<module name="subtourModeChoice" >
		<!-- Defines the chain-based modes, seperated by commas -->
		<param name="chainBasedModes" value="car" />
		<!-- Defines whether car availability must be considered or not. A agent has no car only if it has no license, or never access to a car -->
		<param name="considerCarAvailability" value="true" />
		<!-- Defines all the modes available, including chain-based modes, seperated by commas -->
		<param name="modes" value="car,pt,walk" />
	</module>
	<module name="swissRailRaptor" >
		<!-- Sets whether intermodal access and egress modes are selected by least cost (default) or randomly chosen out of the available access / egress modes. -->
		<param name="intermodalAccessEgressModeSelection" value="CalcLeastCostModePerStop" />
		<param name="intermodalLegOnlyHandling" value="forbid" />
		<!-- Possible values: Default,Individual -->
		<param name="scoringParameters" value="Default" />
		<!-- Defines whether all potential transfers are precomputed at the beginning of the simulation (Initial) or whether they are constructed on-demand when needed (Adaptive). The former incurs potentially long up-front caclulations, but quicker routing. The latter avoids any initial computation, but may require longer routing time. -->
		<param name="transferCalculation" value="Initial" />
		<param name="transferPenaltyBaseCost" value="0.0" />
		<param name="transferPenaltyCostPerTravelTimeHour" value="0.0" />
		<param name="transferPenaltyMaxCost" value="Infinity" />
		<param name="transferPenaltyMinCost" value="-Infinity" />
		<!-- time deducted from transfer walk leg during transfers between pt legs in order to avoid missing a vehicle by a few seconds due to delays. -->
		<param name="transferWalkMargin" value="5.0" />
		<!-- If true, SwissRailRaptor tries to detect when agents cannot board a vehicle in the previous iteration because it is already full and tries to find an alternative route instead. -->
		<param name="useCapacityConstraints" value="false" />
		<param name="useIntermodalAccessEgress" value="false" />
		<param name="useModeMappingForPassengers" value="false" />
		<param name="useRangeQuery" value="false" />
	</module>
	<module name="transit" >
		<!-- Input file containing the transit schedule to be simulated. -->
		<param name="transitScheduleFile" value="transitSchedule-mapped.xml.gz" />
		<!-- Set this parameter to true if transit should be simulated, false if not. -->
		<param name="useTransit" value="true" />
		<!-- Input file containing the vehicles used by the departures in the transit schedule. -->
		<param name="vehiclesFile" value="transitVehicles.xml" />
	</module>
	<module name="vehicles" >
		<param name="vehiclesFile" value="transitVehicles.xml" />
	</module>

</config>
